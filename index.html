<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="VS1024">
    <meta name="theme-color" content="#0a0a0f">
    <title>VS1024 - ÂØæÊà¶Âûã2048</title>
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/skins.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- „É°„Ç§„É≥„Ç¢„Éó„É™Ôºà„Çø„Éñ‰ªò„ÅçÔºâ -->
    <div id="main-app" class="app-container">
        <!-- „Éò„ÉÉ„ÉÄ„ÉºÔºàÈÄöË≤®Ë°®Á§∫Ôºâ -->
        <header class="app-header">
            <div class="currency-display">
                <div class="currency crystal">
                    <span class="currency-icon">üíé</span>
                    <span class="currency-value" id="crystal-count">0</span>
                </div>
                <div class="currency sp">
                    <span class="currency-icon">‚ö°</span>
                    <span class="currency-value" id="sp-count">0</span>
                </div>
            </div>
        </header>

        <!-- „Çø„Éñ„Ç≥„É≥„ÉÜ„É≥„ÉÑ„Ç®„É™„Ç¢ -->
        <main class="tab-content-area">
            <!-- „Ç¨„ÉÅ„É£ÁîªÈù¢ -->
            <div id="tab-gacha" class="tab-content">
                <div class="tab-inner">
                    <h2 class="tab-title">„Ç¨„ÉÅ„É£</h2>
                    
                    <div class="gacha-toggle">
                        <button class="gacha-type-btn active" data-type="tile">„Çø„Ç§„É´„Ç¨„ÉÅ„É£</button>
                        <button class="gacha-type-btn" data-type="skill">„Çπ„Ç≠„É´„Ç¨„ÉÅ„É£</button>
                    </div>
                    
                    <div class="gacha-display">
                        <div class="gacha-machine">
                            <div class="gacha-preview">?</div>
                        </div>
                        <div class="gacha-info">
                            <p class="gacha-rate">‚òÖ5: 5% | ‚òÖ4: 10% | ‚òÖ3: 20% | ‚òÖ2: 25% | ‚òÖ1: 30%</p>
                        </div>
                    </div>
                    
                    <div class="gacha-buttons">
                        <button class="gacha-btn single" id="btn-gacha-single">
                            <span class="gacha-btn-text">1Âõû</span>
                            <span class="gacha-btn-cost">üíé 300</span>
                        </button>
                        <button class="gacha-btn multi" id="btn-gacha-multi">
                            <span class="gacha-btn-text">11ÈÄ£</span>
                            <span class="gacha-btn-cost">üíé 3000</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- „Çπ„ÉÜ„Éº„Ç∏ÁîªÈù¢ -->
            <div id="tab-stage" class="tab-content">
                <div class="tab-inner">
                    <h2 class="tab-title">„Çπ„ÉÜ„Éº„Ç∏</h2>
                    
                    <div class="stage-list">
                        <div class="stage-item" data-stage="1">
                            <div class="stage-num">1</div>
                            <div class="stage-name">EASY</div>
                            <div class="stage-reward">üíé300</div>
                        </div>
                        <div class="stage-item" data-stage="2">
                            <div class="stage-num">2</div>
                            <div class="stage-name">NORMAL</div>
                            <div class="stage-reward">üíé300</div>
                        </div>
                        <div class="stage-item" data-stage="3">
                            <div class="stage-num">3</div>
                            <div class="stage-name">HARD</div>
                            <div class="stage-reward">üíé300</div>
                        </div>
                        <div class="stage-item" data-stage="4">
                            <div class="stage-num">4</div>
                            <div class="stage-name">EXPERT</div>
                            <div class="stage-reward">üíé300</div>
                        </div>
                        <div class="stage-item" data-stage="5">
                            <div class="stage-num">5</div>
                            <div class="stage-name">MASTER</div>
                            <div class="stage-reward">üíé300</div>
                        </div>
                        <div class="stage-item" data-stage="6">
                            <div class="stage-num">6</div>
                            <div class="stage-name">LEGEND</div>
                            <div class="stage-reward">üíé300</div>
                        </div>
                        <div class="stage-item" data-stage="7">
                            <div class="stage-num">7</div>
                            <div class="stage-name">NIGHTMARE</div>
                            <div class="stage-reward">üíé300</div>
                        </div>
                        <div class="stage-item" data-stage="8">
                            <div class="stage-num">8</div>
                            <div class="stage-name">INFERNO</div>
                            <div class="stage-reward">üíé300</div>
                        </div>
                        <div class="stage-item" data-stage="9">
                            <div class="stage-num">9</div>
                            <div class="stage-name">ABYSS</div>
                            <div class="stage-reward">üíé300</div>
                        </div>
                        <div class="stage-item" data-stage="10">
                            <div class="stage-num">10</div>
                            <div class="stage-name">WORLD END</div>
                            <div class="stage-reward">üíé300</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- „Éõ„Éº„É†ÁîªÈù¢ -->
            <div id="tab-home" class="tab-content active">
                <div class="tab-inner home-tab">
                    <h1 class="game-title">
                        <span class="title-vs">VS</span>
                        <span class="title-1024">1024</span>
                    </h1>
                    
                    <button id="btn-vs-battle" class="vs-button">
                        <span class="vs-text">BATTLE</span>
                        <span class="vs-sub">CPUÂØæÊà¶</span>
                    </button>
                    
                    <div class="quick-info">
                        <div class="info-card">
                            <span class="info-icon">üèÜ</span>
                            <span class="info-label">ÊúÄÈ´ò„Çπ„ÉÜ„Éº„Ç∏</span>
                            <span class="info-value" id="highest-stage">-</span>
                        </div>
                        <div class="info-card">
                            <span class="info-icon">‚öîÔ∏è</span>
                            <span class="info-label">Á∑è„ÉÄ„É°„Éº„Ç∏</span>
                            <span class="info-value" id="total-damage">0</span>
                        </div>
                    </div>
                    
                    <div class="rules-preview">
                        <h3>Âü∫Êú¨„É´„Éº„É´</h3>
                        <ul>
                            <li><span class="badge b128">128</span> Â¶®ÂÆ≥√ó1</li>
                            <li><span class="badge b512">512</span> 1„ÉÄ„É°+Â¶®ÂÆ≥√ó3</li>
                            <li><span class="badge b1024">1024</span> 4„ÉÄ„É°„Éº„Ç∏</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- „Çπ„Ç≠„É´ÁîªÈù¢ -->
            <div id="tab-skill" class="tab-content">
                <div class="tab-inner">
                    <h2 class="tab-title">„Çπ„Ç≠„É´</h2>
                    
                    <!-- „Çπ„Ç≠„É´„Ç¢„Çª„ÉÉ„Éà -->
                    <div class="skill-asset-section">
                        <h3 class="section-subtitle">Ë£ÖÂÇô‰∏≠ <span class="cost-display">„Ç≥„Çπ„Éà: <span id="current-cost">0</span>/20</span></h3>
                        <div class="skill-asset-slots" id="skill-asset-slots">
                            <div class="asset-slot empty">+</div>
                            <div class="asset-slot empty">+</div>
                            <div class="asset-slot empty">+</div>
                            <div class="asset-slot empty">+</div>
                            <div class="asset-slot empty">+</div>
                        </div>
                        <div class="asset-presets">
                            <span class="preset-label">„Éó„É™„Çª„ÉÉ„Éà:</span>
                            <button class="preset-btn active" data-preset="1">1</button>
                            <button class="preset-btn" data-preset="2">2</button>
                            <button class="preset-btn" data-preset="3">3</button>
                            <button class="preset-btn" data-preset="4">4</button>
                            <button class="preset-btn" data-preset="5">5</button>
                        </div>
                    </div>
                    
                    <!-- ÊâÄÊåÅ„Çπ„Ç≠„É´‰∏ÄË¶ß -->
                    <div class="skill-inventory-section">
                        <h3 class="section-subtitle">ÊâÄÊåÅ„Çπ„Ç≠„É´</h3>
                        <div class="skill-inventory" id="skill-inventory">
                            <!-- JS„ÅßÁîüÊàê -->
                            <div class="empty-message">„Çπ„Ç≠„É´„Åå„ÅÇ„Çä„Åæ„Åõ„Çì<br>„Ç¨„ÉÅ„É£„ÅßÂÖ•Êâã„Åó„Çà„ÅÜ!</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- „Ç≥„É¨„ÇØ„Ç∑„Éß„É≥ÁîªÈù¢ -->
            <div id="tab-collection" class="tab-content">
                <div class="tab-inner">
                    <h2 class="tab-title">„Ç≥„É¨„ÇØ„Ç∑„Éß„É≥</h2>
                    
                    <div class="current-skin-section">
                        <h3 class="section-subtitle">Ë£ÖÂÇô‰∏≠„ÅÆ„Çø„Ç§„É´</h3>
                        <div class="equipped-tiles-grid" id="equipped-tiles-grid">
                            <!-- JS„ÅßÁîüÊàê -->
                        </div>
                    </div>
                    
                    <div class="tile-collection-section">
                        <h3 class="section-subtitle">ÊâÄÊåÅ„Çø„Ç§„É´</h3>
                        <p class="collection-hint">„Çø„ÉÉ„Éó„ÅßË£ÖÂÇô / Âêå„Åò„ÇÇ„ÅÆ2ÂÄã„ÅßÂêàÊàê</p>
                        <div class="tile-collection" id="tile-collection">
                            <!-- JS„ÅßÁîüÊàê -->
                            <div class="empty-message">„Çø„Ç§„É´„Åå„ÅÇ„Çä„Åæ„Åõ„Çì<br>„Ç¨„ÉÅ„É£„ÅßÂÖ•Êâã„Åó„Çà„ÅÜ!</div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- „Çø„Éñ„Éê„Éº -->
        <nav class="tab-bar">
            <button class="tab-btn" data-tab="gacha">
                <span class="tab-icon">üé∞</span>
                <span class="tab-label">„Ç¨„ÉÅ„É£</span>
            </button>
            <button class="tab-btn" data-tab="stage">
                <span class="tab-icon">üèîÔ∏è</span>
                <span class="tab-label">„Çπ„ÉÜ„Éº„Ç∏</span>
            </button>
            <button class="tab-btn active" data-tab="home">
                <span class="tab-icon">üè†</span>
                <span class="tab-label">„Éõ„Éº„É†</span>
            </button>
            <button class="tab-btn" data-tab="skill">
                <span class="tab-icon">‚ö°</span>
                <span class="tab-label">„Çπ„Ç≠„É´</span>
            </button>
            <button class="tab-btn" data-tab="collection">
                <span class="tab-icon">üì¶</span>
                <span class="tab-label">„Ç≥„É¨„ÇØ„Ç∑„Éß„É≥</span>
            </button>
        </nav>
    </div>

    <!-- „Ç≤„Éº„É†ÁîªÈù¢Ôºà„Çø„ÉñÂ§ñÔºâ -->
    <div id="game-screen" class="screen">
        <div class="game-container">
            <div class="game-layout">
                <!-- UI„Ç®„É™„Ç¢ -->
                <div class="hud-area">
                    <div class="game-header">
                        <div class="player-info player-self">
                            <div class="hp-bar">
                                <div class="hp-fill" id="player-hp-fill"></div>
                                <span class="hp-text" id="player-hp-text">5</span>
                            </div>
                            <div class="score"><span id="player-score">0</span></div>
                        </div>
                        <div class="vs-badge">VS</div>
                        <div class="player-info player-enemy">
                            <div class="hp-bar enemy">
                                <div class="hp-fill" id="enemy-hp-fill"></div>
                                <span class="hp-text" id="enemy-hp-text">5</span>
                            </div>
                            <div class="cpu-level" id="cpu-level-display">CPU Lv.3</div>
                        </div>
                    </div>

                    <div class="warning-bar" id="warning-bar">
                        <span class="warning-icon">‚ö†Ô∏è</span>
                        <span class="warning-text">Â¶®ÂÆ≥: <span id="warning-timer">3.0</span>ÁßíÂæå</span>
                        <div class="warning-queue" id="warning-queue"></div>
                    </div>
                </div>

                <!-- Êïµ„Ç®„É™„Ç¢ -->
                <div class="enemy-area">
                    <div class="board-wrapper">
                        <div class="game-board" id="enemy-board"></div>
                        <div class="board-overlay" id="enemy-overlay"></div>
                        <div class="freeze-overlay">‚ùÑÔ∏è</div>
                    </div>
                </div>

                <!-- „Éê„Éà„É´„É≠„Ç∞ -->
                <div class="battle-log-area">
                    <div class="battle-log" id="battle-log">GAME START!</div>
                </div>

                <!-- Ëá™ÂàÜ„Ç®„É™„Ç¢ -->
                <div class="player-area">
                    <div class="board-wrapper">
                        <div class="game-board" id="player-board"></div>
                        <div class="board-overlay" id="player-overlay"></div>
                        <div class="freeze-overlay">‚ùÑÔ∏è</div>
                    </div>
                </div>
            </div>

            <button class="back-btn" id="btn-back">‚úï</button>
        </div>
    </div>
    
    <!-- ÁµêÊûúÁîªÈù¢ -->
    <div id="result-screen" class="screen">
        <div class="result-container">
            <h1 class="result-title" id="result-title">VICTORY!</h1>
            <div class="result-stats">
                <div class="stat">
                    <span class="stat-label">„Çπ„Ç≥„Ç¢</span>
                    <span class="stat-value" id="result-score">0</span>
                </div>
                <div class="stat">
                    <span class="stat-label">ÊúÄÂ§ß„Çø„Ç§„É´</span>
                    <span class="stat-value" id="result-max-tile">0</span>
                </div>
                <div class="stat">
                    <span class="stat-label">‰∏é„ÉÄ„É°„Éº„Ç∏</span>
                    <span class="stat-value" id="result-damage">0</span>
                </div>
                <div class="stat rewards">
                    <span class="stat-label">Áç≤ÂæóSP</span>
                    <span class="stat-value" id="result-sp">0</span>
                </div>
            </div>
            <div class="result-buttons">
                <button class="menu-btn primary" id="btn-retry">„ÇÇ„ÅÜ‰∏ÄÂ∫¶</button>
                <button class="menu-btn" id="btn-home">„Éõ„Éº„É†„Å∏</button>
            </div>
        </div>
    </div>

    <!-- „Ç¨„ÉÅ„É£ÁµêÊûú„É¢„Éº„ÉÄ„É´ -->
    <div id="gacha-result-modal" class="modal">
        <div class="modal-content gacha-result">
            <h2 class="modal-title">„Ç¨„ÉÅ„É£ÁµêÊûú</h2>
            <div class="gacha-results" id="gacha-results">
                <!-- JS„ÅßÁîüÊàê -->
            </div>
            <button class="modal-close-btn" id="btn-close-gacha">OK</button>
        </div>
    </div>

    <!-- „Çπ„Ç≠„É´Ë©≥Á¥∞„É¢„Éº„ÉÄ„É´ -->
    <div id="skill-detail-modal" class="modal">
        <div class="modal-content skill-detail">
            <div class="skill-detail-header">
                <span class="skill-icon" id="detail-skill-icon">üõ°Ô∏è</span>
                <div class="skill-detail-info">
                    <h3 id="detail-skill-name">„Ç¨„Éº„Éá„Ç£„Ç¢„É≥</h3>
                    <div class="skill-meta">
                        <span class="skill-rarity" id="detail-skill-rarity">‚òÖ4</span>
                        <span class="skill-cost" id="detail-skill-cost">„Ç≥„Çπ„Éà: 5</span>
                    </div>
                </div>
            </div>
            <p class="skill-description" id="detail-skill-desc">Ê¨°„ÅÆÊîªÊíÉ„ÇíÁÑ°ÂäπÂåñ„Åô„Çã</p>
            <div class="skill-detail-actions">
                <button class="action-btn equip" id="btn-equip-skill">Ë£ÖÂÇô</button>
                <button class="action-btn upgrade" id="btn-upgrade-skill">Âº∑Âåñ</button>
                <button class="action-btn sell" id="btn-sell-skill">Â£≤Âç¥ (500 SP)</button>
            </div>
            <button class="modal-close-btn" id="btn-close-skill-detail">Èñâ„Åò„Çã</button>
        </div>
    </div>
    
    <script src="js/data.js"></script>
    <script src="js/skills.js"></script>
    <script src="js/board.js"></script>
    <script src="js/game.js"></script>
    <script src="js/ai.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
