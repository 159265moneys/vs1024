# 対戦型 2048 ゲーム設計書 v2.2

## ゲーム概要

2048をベースにした対戦ゲーム。妨害と攻撃でお互いのHPを削り合う。

---

## 基本ルール

### 2048ベース
- 4x4のボード
- スワイプでタイルを移動
- 同じ数字が合体して2倍になる
- 新しいタイルは2（90%）または4（10%）

### HP制
- プレイヤー / CPU ともに **HP 5**
- HPがゼロになったら負け

---

## 攻撃システム

| タイル | アクション | 効果 |
|--------|------------|------|
| **128** | タップ（消費） | 妨害 ×1 |
| **256** | 作成時（自動） | 妨害 ×1 |
| **512** | タップ（消費） | **1ダメージ** + 妨害 ×3 |
| **1024** | タップ（消費） | **4ダメージ** |

### 妨害について
- 妨害 = 相手のボードにランダムで「2」タイルを追加
- **3秒の予告時間**あり（⚠️警告表示）
- 256作成時の妨害は自動発動（タイルは消えない）
- 128, 512, 1024はタップで攻撃（タイル消費）

---

## 詰み処理

盤面が詰んだら（移動不可）:
1. **HP -2**
2. **盤面リセット**（2タイル×2からやり直し）

→ 即死ではなく、ペナルティ付き継続

---

## 勝敗条件

- **勝利**: 相手のHPがゼロになる
- **敗北**: 自分のHPがゼロになる

---

## CPU AI（レベル1〜5）

| レベル | 特徴 |
|--------|------|
| Lv.1 | ランダム移動、攻撃50%で使用 |
| Lv.2 | 基本的な優先順位、1024は必ず使用 |
| Lv.3 | コーナー戦略、状況見て攻撃判断 |
| Lv.4 | 評価関数で最適手を選択 |
| Lv.5 | 2手先読み、空きマス・単調性・攻撃機会を総合判断 |

---

## 戦略ポイント

### 攻撃の選択
- **128**: 軽い妨害。相手の空きマスを減らす
- **512**: バランス型。1ダメ+妨害3つは強力
- **1024**: 必殺。4ダメで一気に勝負を決める
- **1024を温存** vs **512で早めに攻撃** の駆け引き

### 防御
- 空きマスを多く保つ
- 詰みそうなときは早めに128/512を使って整理
- HP2を失う詰みを避ける

### 2048を目指すべきか？
- 2048に到達してもHP回復などの特典はない
- 1024をすぐ使うか、2048を作るかは状況次第
- 高スコアを狙うなら2048以上も視野に

---

## UI構成

```
┌─────────────────────────────┐
│ [HP BAR]  VS  [ENEMY HP]    │  ← 10%
│ ⚠️ 妨害 3秒後               │
├─────────────────────────────┤
│                             │
│      [ 敵のボード ]          │  ← 30%
│                             │
├─────────────────────────────┤
│                             │
│                             │
│      [ 自分のボード ]        │  ← 60%
│                             │
│                             │
└─────────────────────────────┘
```

---

## 変更履歴

- **v2.0**: 初版
- **v2.1**: 攻撃値を1段階下げる（256→128, 512→256, 1024→512, 2048→1024）
- **v2.2**: スキルシステム削除、シンプルな妨害+攻撃のみに
